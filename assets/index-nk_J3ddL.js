import{j as e,r as c,R as Ee}from"./react-CE2Hl2iG.js";import{c as Ae}from"./react-dom-CDB20SWO.js";import{F as pe,f as Ie,a as Re}from"./@fortawesome-BekJwbAJ.js";import{m as b,u as he}from"./framer-motion-ziNGmEj3.js";import{M as Fe,C as Te,L as Le,S as ge,U as Me,a as Ge,b as qe,c as He,d as de,e as Be,F as ze,f as $e,g as Ue,h as We,R as ue,P as Ve,V as me,E as Ke,i as Ye,j as Qe,k as Je,l as Xe,m as Ze,n as et,o as fe,A as J,p as tt,q as st,B as at}from"./lucide-react-D5rKdCr8.js";import{t as A,T as rt}from"./sonner-BZ8dnqS9.js";import{a as nt}from"./axios-D8rVyQy1.js";import{u as X,L as it,N as ye,a as ot,R as ct,b as E,B as lt}from"./react-router-JGsJx966.js";import{j as dt}from"./jwt-decode-VWaDGczM.js";import"./cookie-BX9QSSmL.js";import"./scheduler-C323NY8X.js";import"./prop-types-D0pSn4ZB.js";import"./motion-dom-CaVWGqEv.js";import"./motion-utils-BDWe_Wef.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const ut="/SEG-MGP/assets/feel-me-think-about-it-CUJ4vE7T.gif",mt="/SEG-MGP/assets/coding-CDJa40Zh.gif",xt=()=>e.jsxs(b.div,{className:"flex flex-col items-center h-screen justify-center px-5",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[e.jsxs("h1",{className:"text-4xl sm:text-7xl lg:text-8xl text-center tracking-wide",children:["Student Support Hub: ",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-customOrange-dark to-slate-700 text-transparent bg-clip-text",children:"Apollonian Devs"})]}),e.jsx("p",{className:"mt-10 text-lg text-center text-black max-w-4xl",children:"Streamline your support requests and get timely assistance with our easy-to-use ticket system. Submit, track, and resolve your issues efficiently, so you can focus on your studies."}),e.jsxs(b.div,{className:"flex justify-center my-10 gap-10",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.3},children:[e.jsx(b.a,{href:"/dashboard",className:"py-2 px-3 border-2 border-gray-900 rounded-md bg-customOrange-light font-medium hover:bg-customOrange-dark/80 transition-colors duration-500 items-center flex",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.1},children:"Submit a Ticket"}),e.jsx(b.a,{href:"/helpfaq",className:"py-2 px-3 border-2 border-gray-900 rounded-md bg-customGray-light font-medium hover:bg-customGray-dark/80 transition-colors duration-500 items-center flex",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.1},children:"Help & FAQs"}),e.jsxs(b.a,{href:"https://github.com/Lluc4s/SEG-MGP",target:"_blank",rel:"noopener noreferrer",className:"py-2 px-3 border-2 border-gray-900 rounded-md bg-neutral-300 font-medium hover:bg-neutral-400/70 transition-colors duration-500 items-center flex gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.1},children:[e.jsx(pe,{icon:Ie,className:"h-6 w-6"}),e.jsx("p",{className:"max-sm:hidden block",children:"Github Repository"})]})]}),e.jsxs(b.div,{className:"flex justify-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.7,delay:.6},children:[e.jsx("img",{src:ut,alt:"GIF 1",className:"rounded-lg w-1/2 border-4 border-black shadow-lg mx-2 my-4 max-h-[300px]"}),e.jsx("img",{src:mt,alt:"GIF 2",className:"rounded-lg w-1/2 border-4 border-black shadow-lg mx-2 my-4 max-h-[300px]"})]})]}),pt=[{icon:e.jsx(Fe,{}),text:"Ticket Submission",description:"Easily submit your support tickets with detailed descriptions and attachments."},{icon:e.jsx(Te,{}),text:"Ticket Tracking",description:"Track the status of your tickets and receive updates on their progress in real-time."},{icon:e.jsx(Le,{}),text:"Knowledge Base",description:"Access a comprehensive knowledge base with FAQs and guides to find quick solutions."},{icon:e.jsx(ge,{}),text:"Search Functionality",description:"Quickly search for existing tickets or knowledge base articles to find relevant information."},{icon:e.jsx(Me,{}),text:"Department Routing",description:"Tickets are automatically routed to the appropriate department or support team for faster resolution."},{icon:e.jsx(Ge,{}),text:"Help Desk Integration",description:"Seamlessly integrate with the university’s help desk for a unified support experience."}],ht=()=>{const t=c.useRef(null),a=he(t,{once:!0});return e.jsxs(b.div,{ref:t,className:"relative h-screen",initial:{opacity:0},animate:a?{opacity:1}:{opacity:0},transition:{duration:.8},children:[e.jsxs("div",{className:"text-center",children:[e.jsx(b.span,{className:"bg-neutral-900 text-customOrange-dark rounded-full h-6 text-xl font-medium px-4 py-3 uppercase",initial:{y:-20,opacity:0},animate:a?{y:0,opacity:1}:{y:-20,opacity:0},transition:{duration:.6},children:"Features"}),e.jsxs(b.h1,{className:"text-4xl sm:text-6xl lg:text-7xl text-center tracking-wide mt-10",initial:{y:20,opacity:0},animate:a?{y:0,opacity:1}:{y:20,opacity:0},transition:{duration:.6,delay:.2},children:["Simplify Student Support with ",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-customOrange-dark to-slate-700 text-transparent bg-clip-text",children:"Our Ticket System"})]})]}),e.jsx(b.div,{className:"flex flex-wrap mt-10 lg:mt-20",initial:{opacity:0},animate:a?{opacity:1}:{opacity:0},transition:{duration:.8,delay:.6},children:pt.map((n,r)=>e.jsx(b.div,{className:"w-full sm:w-1/2 lg:w-1/3 p-5",initial:{y:20,opacity:0},animate:a?{y:0,opacity:1}:{y:20,opacity:0},transition:{duration:.6,delay:.5+r*.2},children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex mx-6 h-10 w-10 p-2 bg-neutral-900 text-customOrange-dark justify-center items-center rounded-full",children:n.icon}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("h5",{className:"text-xl font-medium",children:n.text}),e.jsx("p",{className:"text-md text-gray-700",children:n.description})]})]})},r))})]})},gt="/SEG-MGP/assets/question-mwPTfS5q.png",ft=[{title:"Easy Ticket Submission",description:"Submit support tickets with clear descriptions and necessary attachments."},{title:"Real-Time Ticket Tracking",description:"Monitor the progress of your tickets and receive timely updates."},{title:"Quick Access to Knowledge Base",description:"Find answers to common questions and solutions in our comprehensive knowledge base."},{title:"Direct Department Routing",description:"Ensure your tickets reach the right support team for faster resolution."}],yt=()=>{const t=c.useRef(null),a=he(t,{once:!0});return e.jsxs(b.div,{ref:t,className:"h-screen flex flex-col justify-center",initial:{opacity:0},animate:a?{opacity:1}:{opacity:0},transition:{duration:.8},children:[e.jsxs(b.h1,{className:"text-4xl sm:text-6xl lg:text-7xl text-center tracking-wide mb-10",initial:{y:-20,opacity:0},animate:a?{y:0,opacity:1}:{y:-20,opacity:0},transition:{duration:.6},children:["Streamline your",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-customOrange-dark to-slate-700 text-transparent bg-clip-text",children:"support requests."})]}),e.jsxs("div",{className:"flex justify-center items-center p-3 space-x-4",children:[e.jsx(b.div,{className:"max-sm:hidden block p-2 w-1/2",initial:{x:-50,opacity:0},animate:a?{x:0,opacity:1}:{x:-50,opacity:0},transition:{duration:.7,delay:.2},children:e.jsx("img",{src:gt,alt:"Ticketing System"})}),e.jsx(b.div,{className:"max-sm:w-full w-1/2 h-full flex flex-col justify-between",initial:{x:50,opacity:0},animate:a?{x:0,opacity:1}:{x:50,opacity:0},transition:{duration:.8,delay:1},children:ft.map((n,r)=>e.jsxs(b.div,{className:"flex gap-4 items-center",initial:{y:20,opacity:0},animate:a?{y:0,opacity:1}:{y:20,opacity:0},transition:{duration:.6,delay:1+r*.2},children:[e.jsx("div",{className:"text-customOrange-dark bg-neutral-900 h-10 w-10 p-2 justify-center items-center rounded-full",children:e.jsx(qe,{})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h5",{className:"mt-1 text-xl",children:n.title}),e.jsx("p",{className:"text-md text-gray-700",children:n.description})]})]},r))})]})]})},jt="/SEG-MGP/assets/logo-black-B_wovVTC.png",bt=()=>e.jsx("nav",{className:"sticky top-0 z-50 py-3 px-4 bg-customOrange-dark shadow-lg",children:e.jsxs("div",{className:"flex justify-between items-center max-w-7xl mx-auto",children:[e.jsx("div",{children:e.jsxs("a",{href:"/",className:"flex items-center flex-shrink-0",children:[e.jsx("img",{className:"h-10 w-10 mr-2",src:jt,alt:"Logo"}),e.jsx("span",{className:"text-xl tracking-tight",children:"Apollonian Devs"})]})}),e.jsxs("div",{className:"flex items-center justify-between space-x-6 max-sm:hidden text-gray-700 font-normal underline underline-offset-4",children:[e.jsx("a",{href:"/departments",className:"hover:text-customOrange-light transition-colors duration-500",children:"Departments"}),e.jsx("a",{href:"/helpfaq",className:"hover:text-customOrange-light transition-colors duration-500",children:"Help & FAQs"}),e.jsx("a",{href:"/aboutus",className:"hover:text-customOrange-light transition-colors duration-500",children:"About Us"})]}),e.jsxs("div",{className:"flex justify-center space-x-12 items-center",children:[e.jsx("a",{href:"/login",className:"py-2 px-3 border-2 border-gray-900 rounded-md bg-customOrange-light font-medium hover:bg-customOrange-dark/80  transition-colors duration-500",children:"Log In"}),e.jsx("a",{href:"/register",className:"py-2 px-3 border-2 border-gray-900 rounded-md bg-customGray-light font-medium hover:bg-customGray-dark/80 transition-colors duration-500",children:"Create an account"})]})]})}),wt=()=>e.jsxs(e.Fragment,{children:[e.jsx(bt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(xt,{}),e.jsx(ht,{}),e.jsx(yt,{})]}),e.jsx(Nt,{})]}),Nt=()=>e.jsx("footer",{className:"bg-customGray-dark text-customGray-light text-center py-5 drop-shadow-[0_-5px_8px_rgba(0,0,0,0.1)]",children:"Software Engineering Group Project (2024/25) - Major Group Project"}),vt="/SEG-MGP/members/Adam.jpg",kt="/SEG-MGP/members/Siddhant.jpg",St="/SEG-MGP/members/Josiah.jpg",Ct="/SEG-MGP/members/Dimitrios.jpg",Ot="/SEG-MGP/members/Fahim.jpg",Pt="/SEG-MGP/members/Lucas.jpg",_t="/SEG-MGP/members/Rahat.jpg",Dt="/SEG-MGP/members/Ryan.jpg",R="access",je="refresh",Et=[{name:"Josiah Chan",imageSrc:St,link:"https://github.com/josiahwkc"},{name:"Rahat Chowdhury",imageSrc:_t,link:"https://github.com/rahacho"},{name:"Lucas Jaroenpanichying",imageSrc:Pt,link:"https://github.com/Lluc4s"},{name:"Dimitrios Katsoulis",imageSrc:Ct,link:"https://github.com/DKatsoulis12"},{name:"Siddhant Mohapatra",imageSrc:kt,link:"https://github.com/SiddyWiddy"},{name:"Fahim Nouri Nasir",imageSrc:Ot,link:"https://github.com/FahimNN"},{name:"Yau Ting Hiu Ryan",imageSrc:Dt,link:"https://github.com/abbyryan414"},{name:"Adam Wood",imageSrc:vt,link:"https://github.com/Pluto-999"}],be=[{question:"How do I submit a ticket?",answer:"You can submit a ticket by logging into your account, navigating to the dashboard, and clicking on 'Submit a Ticket'. Provide the necessary details and submit your request."},{question:"How can I check the status of my submitted ticket?",answer:"To check your ticket status, go to the 'My Tickets' section in your dashboard. Each ticket will display its current status: Open, In Progress, Awaiting Student, or Closed."},{question:"What happens when my ticket is redirected to another officer?",answer:"If your ticket is redirected, you'll receive a notification. The new officer will review your request and continue assisting you. You can check the new assigned officer in the ticket details."},{question:"Can I update or edit my ticket after submission?",answer:"Once a ticket is submitted, you cannot edit the original request. However, you can add comments or attach additional files by opening the ticket and posting a response."},{question:"How will I be notified about ticket updates?",answer:"You'll receive notifications on your dashboard whenever an officer responds to your ticket or if there are important updates regarding your request."},{question:"What should I do if my ticket is marked as 'Awaiting Student'?",answer:"If your ticket is in 'Awaiting Student' status, it means the assigned officer needs additional information. Open the ticket and provide the requested details to proceed."},{question:"Who can access my support tickets?",answer:"Your tickets are visible only to you and the assigned support officer. If necessary, higher-level staff may access them for administrative purposes."},{question:"How long does it take to resolve a ticket?",answer:"Resolution times depend on the complexity of the request and officer availability. Most tickets are addressed within 24-48 hours."},{question:"Can I close my own ticket?",answer:"Currently, only assigned officers can mark a ticket as 'Closed'. However, if your issue is resolved, you can leave a comment requesting closure."}],N=({children:t,onClick:a,className:n,type:r="button",style:s,dataTestId:i="generic-button"})=>{const[o,d]=c.useState([]),g=l=>{const u=l.currentTarget.getBoundingClientRect(),y=Math.max(u.width,u.height),m=l.clientX-u.left-y/2,x=l.clientY-u.top-y/2,w={id:Date.now(),x:m,y:x,size:y};d(f=>[...f,w]),setTimeout(()=>{d(f=>f.filter(j=>j.id!==w.id))},600)};return e.jsxs("button",{type:r,className:`relative overflow-hidden ${n}`,style:s,onClick:l=>{g(l),a&&a(l)},"data-testid":i,children:[t,o.map(({id:l,x:h,y:u,size:y})=>e.jsx("span",{className:"ripple",style:{left:h,top:u,width:y,height:y}},l))]})},W=({onSubmit:t,buttonLabel:a="Submit",className:n,method:r="post",children:s,buttonClass:i="flex w-full justify-center rounded-md bg-customOrange-dark mt-5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-customOrange-light focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-customOrange-dark","data-testid":o="generic-form",...d})=>e.jsxs("form",{className:n,onSubmit:t,method:r,...d,"data-testid":o,children:[s,e.jsx(N,{type:"submit",className:i,children:a})]}),k=c.forwardRef(({id:t,label:a,labelClassName:n="flex text-sm text-left font-medium text-black",type:r,required:s=!1,checked:i,onChange:o,placeholder:d="",multiple:g=!1,name:l,value:h,divClassName:u="flex flex-col gap-2",className:y="block w-full rounded-md bg-white px-3 py-1.5 text-base text-black outline outline-1 -outline-offset-1 outline-customGray-light placeholder:text-customGray-light focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-customOrange-dark sm:text-sm"},m)=>{const x={id:t,type:r,required:s,onChange:o,placeholder:d,multiple:g,name:l,className:y};return r==="checkbox"&&(x.checked=i),r==="file"?x.ref=m:x.value=h,e.jsxs("div",{className:u,children:[e.jsx("label",{htmlFor:t,className:n,children:a}),e.jsx("input",{...x})]})}),F=({buttonName:t,className:a,children:n,maxHeight:r="128",showArrow:s=!0,dataTestId:i})=>{const[o,d]=c.useState(!1),[g,l]=c.useState(!1),[h,u]=c.useState(!1),[y,m]=c.useState(0),x=c.useRef(null),w=c.useRef(null),f=()=>{d(j=>!j)};return c.useEffect(()=>{if(o&&x.current&&w.current){const j=x.current.getBoundingClientRect();m(j.width);const P=w.current.getBoundingClientRect(),I=window.innerHeight-j.bottom,G=j.top;P.height>I&&G>I?l(!0):l(!1);const T=window.innerWidth-j.right;P.width>T?u(!0):u(!1)}},[o]),c.useEffect(()=>{const j=P=>{x.current&&!x.current.contains(P.target)&&d(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]),e.jsxs("div",{className:"relative flex flex-col",ref:x,children:[e.jsxs(N,{onClick:j=>{j.stopPropagation(),f()},className:`flex justify-between items-center ${a}`,dataTestId:i,children:[t,s&&e.jsx(b.span,{animate:{rotate:o?180:0},transition:{duration:.2},children:e.jsx(He,{size:16})})]}),o&&e.jsx("div",{ref:w,className:`absolute flex flex-col z-10 rounded-md bg-slate-100 ring-1 shadow-lg ring-black/5 max-h-${r} overflow-y-auto ${g?"bottom-full mb-1":"top-full mt-1"} ${h?"right-0":"left-0"}`,style:{minWidth:y>0?`${y}px`:"auto",maxHeight:r==="none"?"none":`${r}px`},role:"menu","data-position-above":g,"data-position-right":h,children:n})]})},V=({tableClass:t="min-w-full divide-y divide-gray-200",bodyClass:a="divide-y divide-gray-200",columnDefinition:n,data:r=[],dataName:s="data",rowDefinition:i})=>{const[o,d]=c.useState(1),[g,l]=c.useState(5),h=Math.ceil(r.length/g);c.useEffect(()=>{if(r.length===0){d(1);return}d(o>h?h:o)},[r.length]);const u=(o-1)*g,y=r.slice(u,u+g),m=[5,10,20,50],x=w=>{l(w);const f=Math.ceil(r.length/w);d(o>f?f:o)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between w-full items-center gap-2 mb-2 text-gray-400",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("p",{className:" font-medium",children:["Showing:"," ",e.jsx("span",{className:"font-normal",children:r.length>0?`${u+1} - ${u+y.length}`:0})," ","of ",e.jsx("span",{className:"font-normal",children:r.length})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"mr-2 font-medium",children:"Rows per page:"}),e.jsx(F,{buttonName:`${g} rows`,className:"border-2 outline-none border-gray-400 focus:border-customOrange-dark focus:text-customOrange-dark hover:border-customOrange-dark hover:text-customOrange-dark rounded-md transition-colors duration-500 px-2 py-0.5 gap-2",maxHeight:"200",children:e.jsx("div",{className:"flex flex-col",children:m.map(w=>e.jsx(N,{value:w,onClick:()=>x(w),className:"w-full text-left hover:bg-gray-300 transition-colors duration-200 px-4 py-2",children:w},w))})})]})]}),e.jsxs("table",{className:t,children:[e.jsx("thead",{children:e.jsx("tr",{children:n})}),e.jsx("tbody",{className:a,children:r.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:Ee.Children.count(n),className:"px-6 py-4 text-center text-gray-500",children:["No ",s," found."]})}):y.map(w=>i(w))})]}),h>1&&e.jsxs("div",{className:"flex justify-center space-x-2 mt-4",children:[e.jsx("button",{onClick:()=>d(1),disabled:o===1,className:"px-4 py-2 border-2 border-customOrange-light rounded-md disabled:opacity-50",children:"First"}),o>1&&e.jsx("button",{onClick:()=>d(o-1),className:"px-4 py-2 border rounded-md bg-gray-100",children:o-1}),e.jsx("button",{className:"px-4 py-2 border rounded-md bg-customOrange-dark text-white",children:o}),o<h&&e.jsx("button",{onClick:()=>d(o+1),className:"px-4 py-2 border rounded-md bg-gray-100",children:o+1}),e.jsx("button",{onClick:()=>d(h),disabled:o===h,className:"px-4 py-2 border-2 border-customOrange-light rounded-md disabled:opacity-50",children:"Last"})]})]})},we=(t,a)=>{const n=t.target.files,r=Array.from(n).map(s=>({file_name:s.name,file_path:`https://your-storage-service.com/uploads/${s.name}`,mime_type:s.type}));a(r)},At=t=>{const a=c.useRef(null);return{fileInputRef:a,handleChange:s=>{we(s,t)},resetFileInput:()=>{a.current&&(a.current.value="")}}},H=nt.create({baseURL:"http://127.0.0.1:8000/"}),D=(t,a={})=>{const r={Authorization:`Bearer ${localStorage.getItem(R)}`,...a.headers};return H.get(t,{...a,headers:r})},B=(t,a,n={})=>{const s={Authorization:`Bearer ${localStorage.getItem(R)}`,...n.headers};return H.post(t,a,{...n,headers:s})},S=(t,a="Something went wrong. Please try again.")=>{console.error(t),t&&t.response&&console.error(t.response.data),console.error(t==null?void 0:t.message),A.error(`❌ ${a}`)},K=(t,a="An unknown error occurred",n={includePrefix:!0})=>{var s;console.error(t);const r=((s=t==null?void 0:t.response)==null?void 0:s.data)||(t==null?void 0:t.message)||a;return n.includePrefix?`❌ ${r}`:r},It=({ticket:t,onClose:a,user:n,fetchTickets:r})=>{const[s,i]=c.useState([]),[o,d]=c.useState(!0),[g,l]=c.useState(null),[h,u]=c.useState([]),[y,m]=c.useState(""),x=async()=>{var f;try{const j=await D(`/api/tickets/${t.id}/messages/`);i(j.data.messages)}catch(j){S(j,((f=j.response)==null?void 0:f.data)||"Failed to fetch messages")}finally{d(!1)}},w=async f=>{f.preventDefault();try{const j={message_body:y,attachments:h.length>0?h:[]},P=await B(`/api/tickets/${t.id}/messages/post/`,j);x(),m(""),u([]),A.success("Your message has been sent"),await r()}catch(j){S(j,"Failed to send text")}};return c.useEffect(()=>{x()},[t.id]),e.jsx("div",{style:C.container,children:e.jsx("div",{style:C.chatApp,children:e.jsxs("div",{style:C.chat,children:[e.jsxs("div",{style:C.chatHeader,children:[e.jsxs("h2",{style:C.chatTitle,children:["Chat for Ticket: ",t.subject]}),e.jsx(N,{onClick:a,style:C.closeButton,children:"✖"})]}),o?e.jsx("p",{children:"Loading messages..."}):e.jsx("div",{style:C.chatHistory,children:s.length===0?e.jsx("p",{children:"No messages yet."}):s.map(f=>e.jsxs("div",{style:f.sender===n.username?C.myMessageContainer:C.otherMessageContainer,children:[e.jsx("span",{style:C.messageTime,children:new Date(f.created_at).toLocaleString()}),e.jsxs("strong",{children:[f.sender===n.username?"You":f.sender," (",f.sender_role,"):"]}),e.jsxs("div",{style:f.sender===n.username?C.myMessage:C.otherMessage,children:[f.body,f.attachments&&f.attachments.length>0&&e.jsx("div",{children:f.attachments.map(j=>e.jsx("a",{href:j.file_path,target:"_blank",rel:"noopener noreferrer",children:j.file_name},j.file_name))})]})]},f.message_id))}),e.jsxs("form",{onSubmit:w,style:C.chatInputContainer,children:[e.jsx("input",{type:"text",value:y,onChange:f=>m(f.target.value),placeholder:"Enter your message",style:C.chatInput,required:!0}),e.jsx("input",{type:"file",multiple:!0,onChange:f=>we(f,u),placeholder:"Optionally attach relevant files",style:C.chatInput}),e.jsx(N,{type:"submit",style:C.sendButton,children:"Send"})]})]})})})},C={container:{backgroundColor:"#f4f7f6",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center",height:"90vh",overflow:"hidden"},chatApp:{display:"flex",width:"90%",maxWidth:"800px",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.1)",flexDirection:"column",overflow:"hidden",maxHeight:"100vh"},chatHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"15px",borderBottom:"2px solid #f4f7f6",backgroundColor:"#f4f4f4",zIndex:1,position:"sticky",top:0},chatTitle:{margin:"0",fontSize:"18px",color:"#333",fontWeight:"bold"},closeButton:{border:"none",background:"transparent",fontSize:"20px",cursor:"pointer"},chatHistory:{flex:1,padding:"20px",overflowY:"auto",maxHeight:"calc(80vh - 100px)",borderBottom:"2px solid #fff"},messageTime:{fontSize:"12px",color:"#666",display:"block",marginBottom:"5px"},myMessageContainer:{textAlign:"right",marginBottom:"15px"},myMessage:{backgroundColor:"#efefef",padding:"10px 15px",borderRadius:"10px",display:"inline-block",textAlign:"left"},otherMessageContainer:{textAlign:"left",marginBottom:"15px"},otherMessage:{backgroundColor:"#e8f1f3",padding:"10px 15px",borderRadius:"10px",display:"inline-block"},chatInputContainer:{display:"flex",alignItems:"center",padding:"15px",borderTop:"1px solid #eaeaea"},chatInput:{flex:1,padding:"10px",borderRadius:"5px",border:"1px solid #ccc",marginRight:"10px"},sendButton:{padding:"10px 15px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"}},Rt="/SEG-MGP/assets/notificationSound-BykV4V3r.mov";function z(){new Audio(Rt).play()}const Z=(t,{loading:a="Loading...",successMessage:n="Operation successful",successCallback:r,errorMessage:s,errorCallback:i}={})=>A.promise(t,{loading:a,success:async()=>(r&&await r(),n),error:o=>i?i(o):s||K(o,"An error occurred",{includePrefix:!1})}),xe=({ticketid:t,selectedOfficer:a,departmentId:n,fetchTickets:r,dataTestId:s})=>{const i=!a&&!n,o=()=>{var g;if(i)return;const d=B("/api/redirect-ticket/",{ticket:t,to_profile:a?a.is_superuser?a.id:(g=a.user)==null?void 0:g.id:null,department_id:n});Z(d,{loading:"Loading...",successMessage:"Ticket Redirected successfully",successCallback:async()=>{await r(),console.log("Ticket was redirected to:",a||n)},errorCallback:l=>`Error redirecting ticket: ${K(l,"An error occurred while redirecting the ticket",{includePrefix:!1})}`})};return e.jsx(N,{className:`flex items-center justify-center px-2 py-1 gap-1 rounded-md transition-colors duration-500
                ${i?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-customOrange-dark text-white hover:bg-customOrange-light"}
            `,onClick:d=>{z(),d.stopPropagation(),o()},disabled:i,dataTestId:s,children:"Redirect"})},Ft=({setSuggestedDepartments:t,tickets:a})=>{const n=async(s,i)=>{try{return(await B("/api/suggested-department/",{ticket_id:s,description:i},{headers:{"Content-Type":"application/json"}})).data.suggested_department}catch(o){return S(o,"Error fetching suggested department"),null}},r=async()=>{if(a.length===0)return;const s={};for(const i of a){const o=await n(i.id,i.description);o?(console.log(`Assigning ${o} to Ticket ID: ${i.id}`),s[i.id]=o):console.warn(`No department assigned to Ticket ID: ${i.id}`)}t(s)};return e.jsx(N,{className:"px-3 py-1 text-sm font-semibold text-gray-800 bg-gray-200 rounded-md hover:bg-gray-300 inline-flex items-center",onClick:s=>{z(),s.stopPropagation(),r()},children:"Suggest Departments"})},Tt=({ticketId:t})=>{const[a,n]=c.useState([]),r=async()=>{try{const s=await D(`/api/ticket-status-history/${t}/`);n(s.data.status_history)}catch(s){S(s,"Error fetching status history")}};return c.useEffect(()=>{r()},[t]),e.jsx(e.Fragment,{children:e.jsx(V,{columnDefinition:[e.jsx("th",{className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase",children:"Old status"}),e.jsx("th",{className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase",children:"New status"}),e.jsx("th",{className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase",children:"Changed by"}),e.jsx("th",{className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase",children:"Changed at"}),e.jsx("th",{className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase",children:"Notes"})],data:a,dataName:"status history",rowDefinition:s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:s.old_status}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:s.new_status}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:s.profile_username}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:s.changed_at}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:s.notes})]},s.id)})})},Lt=({setSuggestedGrouping:t,tickets:a})=>{const n=(s,i)=>{const o={};for(const d of s)i[d.id]!==void 0&&(o[d.id]=i[d.id]);return o},r=async()=>{try{const s=await D("/api/user-tickets-grouping/");if(s.data.error){A.error("❌ Unable to group tickets. Please try again.");return}const i=s.data.clusters,o=n(a,i);t(o),A.success("✅ Ticket grouping suggestions updated!")}catch(s){S(s,"Failed to fetch ticket groupings. Please try again.")}};return e.jsx(N,{className:"px-3 py-1 text-sm font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700",onClick:s=>{z(),s.stopPropagation(),r()},children:"Suggest Ticket Grouping"})},Mt=({ticketId:t})=>{const[a,n]=c.useState([]),r=async()=>{try{const s=await D(`/api/ticket-path/${t}/`);n(s.data.ticket_path)}catch(s){S(s,"Error fetching ticket path")}};return c.useEffect(()=>{r()},[t]),e.jsx(e.Fragment,{children:e.jsx(V,{columnDefinition:[e.jsx("th",{className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase",children:"Redirected from"}),e.jsx("th",{className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase",children:"Redirected to"})],data:a,dataName:"ticket path",rowDefinition:s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:s.from_username}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:s.to_username})]},s.id)})})},Gt=({ticketId:t,officers:a,admin:n,onSelectOfficer:r,defaultSelectedOfficer:s=null})=>{const[i,o]=c.useState(s),d=l=>{o(l),r(t,l)},g=()=>i?i.is_superuser?i.username:i.user.username:"Select an officer";return e.jsx(F,{buttonName:e.jsx("h5",{className:"text-sm truncate",children:g()}),className:`flex justify-center items-center w-40 gap-x-1.5 \r
                 rounded-md bg-white px-2 py-1 text-sm font-semibold \r
                 text-gray-900 ring-1 shadow-xs ring-gray-300 \r
                 ring-inset hover:bg-gray-50`,children:e.jsxs("div",{className:"py-1","data-testid":"officers-dropdown-menu",children:[a.map(l=>e.jsxs(N,{onClick:h=>{h.stopPropagation(),d(l)},className:`flex items-center gap-2 w-full text-left px-3 py-1 text-sm \r
                       text-gray-700 hover:bg-gray-300`,children:[e.jsx(de,{className:"h-5 w-5 text-customOrange-dark"}),l.user.username]},l.user.id)),n&&e.jsxs(N,{onClick:l=>{l.stopPropagation(),d(n)},className:`flex items-center w-full gap-2 text-left px-3 py-1 text-sm \r
                       text-gray-700 hover:bg-gray-300 mt-2`,children:[e.jsx(de,{className:"h-5 w-5 text-green-500"}),"Admin: ",n.username]})]})})},qt=({ticketId:t,setSelectedDepartments:a})=>{const[n,r]=c.useState([]),[s,i]=c.useState(null),[o,d]=c.useState(!0);c.useEffect(()=>{(async()=>{try{const h=await D("/api/departments/");r(h.data)}catch(h){S(h,"Error fetching departments")}finally{d(!1)}})()},[]);const g=l=>{a(h=>({...h,[t]:l})),i(l)};return o?e.jsx("p",{children:"Loading departments..."}):e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(F,{buttonName:e.jsx("h5",{className:"text-sm truncate",children:s?s.name:"Select a department"}),className:"flex justify-center items-center w-48 gap-x-1.5 rounded-md bg-white px-2 py-1 text-sm font-semibold text-gray-900 ring-1 ring-gray-300 ring-inset hover:bg-gray-50",children:e.jsx("div",{className:"py-1",children:n.map(l=>e.jsxs(N,{onClick:h=>{h.stopPropagation(),g(l)},className:"flex items-center w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-300 transition-colors duration-200 border-b border-gray-300",children:[e.jsx(Be,{className:"h-5 w-5 text-customOrange-dark mr-2"}),l.name]},l.id))})})})},Ht=({priority:t,status:a,isOverdue:n,setPriority:r,setStatus:s,setIsOverdue:i,applyFilters:o,clearFilters:d,dataTestId:g})=>{const[l,h]=c.useState(!1);return e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l&&e.jsxs(N,{onClick:()=>{d(),h(!1)},className:"flex items-center justify-items-center gap-2 px-3 h-10 text-white hover:bg-red-400 transition-colors duration-500 bg-red-700 rounded-md",dataTestId:"clear-button-outside",children:[e.jsx(ze,{size:16}),"Clear"]}),e.jsx(F,{buttonName:e.jsx($e,{size:16}),maxHeight:"none",dataTestId:g,className:"flex items-center justify-items-center h-10 px-3 w-fit gap-1 text-white font-medium hover:bg-customOrange-light transition-colors duration-500 bg-customOrange-dark rounded-md",children:e.jsxs("div",{className:"space-y-3 p-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"w-full text-center font-medium text-lg",children:"Status"}),e.jsxs("ul",{className:"flex gap-5 w-full items-center justify-center",children:[e.jsx("li",{children:e.jsx(k,{label:"Open",type:"radio",name:"status",value:"Open",checked:a==="Open",onChange:u=>s(u.target.value),className:"w-fit cursor-pointer accent-red-500",labelClassName:"text-gray-700 text-sm",divClassName:"flex justify-end gap-2"})}),e.jsx("li",{children:e.jsx(k,{label:"In Progress",type:"radio",name:"status",value:"In Progress",checked:a==="In Progress",onChange:u=>s(u.target.value),className:"w-fit cursor-pointer accent-red-500",labelClassName:"text-gray-700 text-sm text-right",divClassName:"flex justify-end gap-2"})}),e.jsx("li",{children:e.jsx(k,{label:"Awaiting Student",type:"radio",name:"status",value:"Awaiting Student",checked:a==="Awaiting Student",onChange:u=>s(u.target.value),className:"w-fit cursor-pointer accent-red-500",labelClassName:"text-gray-700 text-sm text-right",divClassName:"flex justify-end gap-2 w-100"})}),e.jsx("li",{children:e.jsx(k,{label:"Closed",type:"radio",name:"status",value:"Closed",checked:a==="Closed",onChange:u=>s(u.target.value),className:"w-fit cursor-pointer accent-red-500",labelClassName:"text-gray-700 text-sm",divClassName:"flex justify-end gap-2"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"w-full text-center font-medium text-lg",children:"Priority"}),e.jsxs("ul",{className:"flex gap-5 w-full items-center justify-center",children:[e.jsx("li",{children:e.jsx(k,{label:"Low",type:"radio",name:"priority",value:"Low",checked:t==="Low",onChange:u=>r(u.target.value),className:"w-fit cursor-pointer accent-red-500",labelClassName:"text-gray-700 text-sm",divClassName:"flex justify-end gap-2"})}),e.jsx("li",{children:e.jsx(k,{label:"Medium",type:"radio",name:"priority",value:"Medium",checked:t==="Medium",onChange:u=>r(u.target.value),className:"w-fit cursor-pointer accent-red-500",labelClassName:"text-gray-700 text-sm",divClassName:"flex justify-end gap-2"})}),e.jsx("li",{children:e.jsx(k,{label:"High",type:"radio",name:"priority",value:"High",checked:t==="High",onChange:u=>r(u.target.value),className:"w-fit cursor-pointer accent-red-500",labelClassName:"text-gray-700 text-sm",divClassName:"flex justify-end gap-2"})})]})]}),e.jsxs("div",{className:"space-y-2 pb-6",children:[e.jsx("p",{className:"w-full text-center font-medium text-lg",children:"Overdue?"}),e.jsxs("ul",{className:"flex gap-5 w-full items-center justify-center",children:[e.jsx("li",{children:e.jsx(k,{label:"Yes",type:"radio",name:"isOverdue",value:!0,checked:n===!0,onChange:u=>i(u.target.value==="true"),className:"w-fit cursor-pointer accent-red-500",labelClassName:"text-gray-700 text-sm",divClassName:"flex justify-end gap-2"})}),e.jsx("li",{children:e.jsx(k,{label:"No",type:"radio",name:"isOverdue",value:!1,checked:n===!1,onChange:u=>i(u.target.value==="true"),className:"w-fit cursor-pointer accent-red-500",labelClassName:"text-gray-700 text-sm",divClassName:"flex justify-end gap-2"})})]})]}),e.jsxs("div",{className:"flex justify-center gap-2 ",children:[e.jsx(N,{onClick:()=>{d(),h(!1)},className:"flex items-center justify-items-center px-3 py-1 text-white hover:bg-red-400 transition-colors duration-500 bg-red-700 rounded-md",dataTestId:"clear-button-inside",children:"Clear"}),e.jsx(N,{onClick:()=>{o(),h(!0)},className:"flex items-center justify-items-center px-3 py-1 text-white hover:bg-customOrange-light transition-colors duration-500 bg-customOrange-dark rounded-md",children:"Apply"})]})]})})]})},M=({isOpen:t,onClose:a,children:n,width:r="w-[500px]",height:s="h=[300px]"})=>t?e.jsx("div",{"data-testid":"popup-overlay",className:"fixed inset-0 w-full h-full bg-black bg-opacity-50 backdrop-blur-lg flex justify-center items-center z-50",onClick:a,children:e.jsxs("div",{className:`relative bg-white p-8 rounded-md shadow-lg ${r} ${s}`,onClick:i=>i.stopPropagation(),children:[e.jsx(N,{onClick:a,className:"absolute top-2 right-3 text-gray-400 hover:text-gray-600 text-2xl",children:"✕"}),e.jsx("div",{className:"mt-4",children:n})]})}):null,Bt=({ticket:t,setSelectedTicket:a,setTickets:n,fetchTickets:r})=>{const[s,i]=c.useState(null);X();const o=async d=>{var g;d.preventDefault();try{const l=await B("api/tickets/change-date",{id:t.id,due_date:s});if(l.status!==201)return;A.success("The due date for the ticket has been successfully updated");const h=l.data.ticket.due_date;a(u=>({...u,due_date:h})),n(u=>u.map(y=>y.id===t.id?{...y,due_date:h}:y)),await r()}catch(l){((g=l.response)==null?void 0:g.status)===400?S(l,"Please ensure you pick a valid date that isn't in the past and isn't today's date"):S(l,"There has been an error trying to update the due date of the ticket")}};return e.jsx(e.Fragment,{children:e.jsx(W,{onSubmit:o,buttonLabel:"Confirm Change",children:e.jsx(k,{id:"change-date",label:"Change Date",labelClass:"flex text-lg font-poppins text-black",type:"date",required:!0,onChange:d=>i(d.target.value),placeholder:"Enter the new date"})})})},zt=({ticket:t})=>e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:t.subject}),e.jsxs("p",{className:"text-lg text-gray-600 mt-4 mb-6",children:['"',t.description,'"']}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Status: ",t.status]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Priority: ",t.priority||"Not Set"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Assigned to: ",t.assigned_to||"Unassigned"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Created at: ",t.created_at?new Date(t.created_at).toLocaleString():"Not Set"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Closed at: ",t.closed_at?new Date(t.closed_at).toLocaleString():"Not Set"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Due Date: ",t.due_date?new Date(t.due_date).toLocaleString():"Not Set"]})]}),$t=({user:t,officers:a,admin:n,tickets:r,setTickets:s,selectedTicket:i,setSelectedTicket:o,fetchTickets:d})=>{const[g,l]=c.useState(r),[h,u]=c.useState(!1),[y,m]=c.useState({}),[x,w]=c.useState(null),[f,j]=c.useState(!1),[P,I]=c.useState(!1),[G,T]=c.useState(!1),[$,_]=c.useState({}),[ee,Ne]=c.useState({}),[ve,ke]=c.useState({}),[Y,te]=c.useState(""),[Q,se]=c.useState(""),[ae,re]=c.useState(!1),[U,Se]=c.useState({key:null,direction:"asc"}),Ce={Open:e.jsx(Xe,{className:"size-4 text-blue-500"}),"In Progress":e.jsx(Je,{className:"size-4 text-yellow-500"}),Closed:e.jsx(Qe,{className:"size-4 text-green-500"}),"Awaiting Student":e.jsx(Ye,{className:"size-4 text-red-500"})},Oe=p=>{switch(p){case"High":return"bg-red-500 text-white";case"Medium":return"bg-yellow-500 text-white";case"Low":return"bg-green-500 text-white";default:return"bg-gray-300 text-black"}},Pe=(p,O)=>{m(L=>({...L,[p]:O}))},ne=async(p,O)=>{const q=D(`/api/tickets/${p==="priority"?"change-priority":"change-status"}/${O}/`);Z(q,{loading:"Changing...",successMessage:`${p} changed successfully!`,successCallback:d,errorCallback:v=>`Error changing ${p}: ${K(v,"Something went wrong",{includePrefix:!1})}`})},_e=p=>{let O="asc";U.key===p&&U.direction==="asc"&&(O="desc"),Se({key:p,direction:O});const L=[...g].sort((q,v)=>{const ce=q[p]??"",le=v[p]??"";return(ce<le?-1:ce>le?1:0)*(O==="asc"?1:-1)});l(L)},ie=()=>{if(!r||r.length===0){l([]);return}const p=r.filter(O=>!(Y&&O.priority!==Y||Q&&O.status!==Q||ae&&!O.is_overdue));l(p)},De=()=>{te(""),se(""),re(!1),l(r)},oe=()=>{w(p=>!p)};return c.useEffect(()=>{ie()},[r]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative",children:i&&e.jsxs(e.Fragment,{children:[e.jsx(M,{isOpen:h,onClose:()=>o(null),width:"w-[100%]",height:"h-[100%]",children:e.jsx(It,{ticket:i,onClose:()=>u(!1),user:t,fetchTickets:d})}),e.jsx(M,{isOpen:G,onClose:()=>{o(null),T(!1)},width:"w-fit min-w-[30%] max-w-[60%]",height:"h-fit",children:e.jsx(zt,{ticket:i})}),e.jsx(M,{isOpen:x,onClose:oe,width:"w-[25%]",height:"h-[25%]",children:e.jsx(Bt,{ticket:i,setSelectedTicket:o,setTickets:s,fetchTickets:d})}),e.jsx(M,{isOpen:f,onClose:()=>{o(null),j(!1)},width:"w-[80%]",height:"h-[80%]",children:e.jsx(Tt,{ticketId:i.id})}),e.jsx(M,{isOpen:P,onClose:()=>{o(null),I(!1)},width:"w-[80%]",height:"h-[80%]",children:e.jsx(Mt,{ticketId:i.id})})]})}),e.jsx("div",{className:"flex flex-col bg-white rounded-3xl drop-shadow-[0_20px_50px_rgba(0,0,0,0.1)] overflow-visible",children:e.jsxs("div",{className:"p-10 min-w-full inline-block align-middle",children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsx("h1",{className:"flex text-center",children:"Tickets"}),e.jsxs("div",{className:"flex justify-between items-center gap-2 h-10",children:[e.jsx(Ht,{priority:Y,status:Q,isOverdue:ae,setPriority:te,setStatus:se,setIsOverdue:re,applyFilters:ie,clearFilters:De,dataTestId:"filter-tickets-dropdown"}),t.is_staff&&(t.is_superuser||t.is_department_head)&&e.jsxs(F,{className:"inline-flex items-center justify-center gap-2 text-white hover:bg-customOrange-light transition-colors duration-500 bg-customOrange-dark rounded-md px-3 py-1 h-10",showArrow:!1,buttonName:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"size-5"}),e.jsx("span",{children:"AI Suggestion"})]}),children:[t.is_superuser&&e.jsx("div",{className:"flex justify-end px-2 py-1",children:e.jsx(Ft,{setSuggestedDepartments:Ne,tickets:r})}),(t.is_department_head||t.is_superuser)&&e.jsx("div",{className:"flex justify-end px-2 py-1",children:e.jsx(Lt,{setSuggestedGrouping:ke,tickets:r})})]})]})]}),e.jsx(V,{columnDefinition:e.jsxs(e.Fragment,{children:[["Subject","Status","Priority"].map(p=>e.jsx("th",{className:"px-6 py-3 text-start text-xs font-medium cursor-pointer",children:e.jsxs(N,{className:"flex items-center w-full gap-x-1",onClick:()=>_e(p.toLowerCase()),children:[e.jsx("p",{children:p}),U.key===p.toLowerCase()?U.direction==="asc"?"▲":"▼":""]})},p)),e.jsx("th",{className:"px-6 py-3 text-end text-xs font-medium",children:e.jsx("p",{children:"Actions"})}),t.is_staff&&e.jsx(e.Fragment,{children:e.jsx("th",{className:"px-6 py-3 text-end text-xs font-medium",children:e.jsx("p",{children:"Redirect"})})}),t.is_superuser&&e.jsx(e.Fragment,{children:e.jsx("th",{className:"px-6 py-3 text-end text-xs font-medium",children:e.jsx("p",{children:"Suggested Departments"})})}),(t.is_superuser||t.is_department_head)&&e.jsx(e.Fragment,{children:e.jsx("th",{className:"px-6 py-3 text-end text-xs font-medium",children:e.jsx("p",{children:"Suggested Ticket Grouping"})})})]}),data:g,dataName:"tickets",rowDefinition:p=>{var O,L,q;return e.jsxs("tr",{className:"hover:bg-gray-100 cursor-pointer",children:[["subject","status","priority"].map(v=>e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-gray-800 ${v==="subject"?"max-w-52 truncate":""}`,onClick:()=>{o(p),T(!0)},children:v==="status"?e.jsxs("div",{className:"flex items-center gap-2",children:[Ce[p[v]],p[v]||"Not Set"]}):v==="priority"?e.jsx("div",{className:`px-3 py-1 rounded-full text-center ${Oe(p[v])}`,children:p[v]||"Not Set"}):p[v]},v)),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-end text-sm font-medium flex gap-1.5",children:[e.jsxs(N,{className:"flex items-center justify-items-center px-2 py-1 gap-1 text-white hover:bg-customOrange-light transition-colors duration-500 bg-customOrange-dark rounded-md",onClick:v=>{v.stopPropagation(),o(p),u(!0)},children:[e.jsx(We,{className:"size-4"}),"Chat"]}),t.is_staff&&e.jsxs(e.Fragment,{children:[e.jsxs(N,{dataTestId:"toggle-status",className:"flex items-center justify-items-center px-2 py-1 gap-1 text-white hover:bg-customOrange-light transition-colors duration-500 bg-customOrange-dark rounded-md",onClick:()=>ne("status",p.id),children:[e.jsx(ue,{className:"size-4"}),"Status"]}),e.jsxs(N,{dataTestId:"toggle-priority",className:"flex items-center justify-items-center px-2 py-1 gap-1 text-white hover:bg-customOrange-light transition-colors duration-500 bg-customOrange-dark rounded-md",onClick:()=>ne("priority",p.id),children:[e.jsx(ue,{className:"size-4"}),"Priority"]}),e.jsx(F,{buttonName:e.jsx(Ke,{className:"size-5 text-gray-400 hover:text-gray-600 transition-colors duration-200"}),className:"flex items-center justify-center px-1 py-1 gap-1",showArrow:!1,dataTestId:"more-actions-dropdown",children:e.jsxs("div",{className:"flex flex-col space-y-2 p-2",children:[e.jsxs(N,{className:"px-3 py-1 text-sm font-semibold text-gray-800 bg-gray-200 rounded-md hover:bg-gray-300 inline-flex items-center",onClick:v=>{v.stopPropagation(),o(p),oe()},children:[e.jsx(Ve,{className:"mr-2 size-4"}),"Change Due Date"]}),t.is_superuser&&e.jsxs(e.Fragment,{children:[e.jsxs(N,{dataTestId:"status-history-button",className:"px-3 py-1 text-sm font-semibold text-gray-800 bg-gray-200 rounded-md hover:bg-gray-300 inline-flex items-center",onClick:v=>{v.stopPropagation(),o(p),j(!0)},children:[e.jsx(me,{className:"mr-2 size-4"}),"Status History"]}),e.jsxs(N,{dataTestId:"ticket-path-button",className:"px-3 py-1 text-sm font-semibold text-gray-800 bg-gray-200 rounded-md hover:bg-gray-300 inline-flex items-center",onClick:v=>{v.stopPropagation(),o(p),I(!0)},children:[e.jsx(me,{className:"mr-2 size-4"}),"Ticket Path"]})]})]})})]})]}),t.is_staff&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[t.is_superuser?e.jsx(qt,{ticketId:p.id,setSelectedDepartments:_}):e.jsx(Gt,{ticketId:p.id,officers:a,admin:n,onSelectOfficer:Pe}),e.jsx(xe,{ticketid:p.id,selectedOfficer:y[p.id],departmentId:t.is_superuser?(O=$[p.id])==null?void 0:O.id:null,fetchTickets:d})]})}),t.is_superuser&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[((L=ee[p.id])==null?void 0:L.name)||"No suggestion",e.jsx(xe,{ticketid:p.id,selectedOfficer:y[p.id],departmentId:(q=ee[p.id])==null?void 0:q.id,fetchTickets:d,setShowingTickets:l,dataTestId:"suggested-redirect-button"})]})})]}),(t.is_superuser||t.is_department_head)&&e.jsx(e.Fragment,{children:e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:e.jsx("div",{className:"flex item-center gap-2",children:ve[p.id]||"No suggestion"})})})]},p.id)}})]})})]})},Ut=({togglePopup:t,fetchTickets:a})=>{const[n,r]=c.useState(""),[s,i]=c.useState(""),[o,d]=c.useState(""),[g,l]=c.useState([]),{fileInputRef:h,handleChange:u,resetFileInput:y}=At(l),m=async x=>{x.preventDefault();const f=B("api/tickets/",{subject:n,description:s,message:o,attachments:g},{headers:{"Content-Type":"application/json"}});Z(f,{loading:"Loading...",successMessage:"Ticket Submitted successfully",successCallback:async()=>{t(),r(""),i(""),d(""),l([]),y(),await a()},errorCallback:j=>K(j,"Error submitting ticket")})};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-left font-poppins mb-10",children:" Send Query "}),e.jsxs(W,{className:"space-y-3",onSubmit:m,buttonLabel:"Send Ticket",children:[e.jsx(k,{id:"subject",label:"Subject",type:"text",required:!0,value:n,onChange:x=>r(x.target.value),placeholder:"Enter the subject of your query"}),e.jsx(k,{id:"description",label:"Description",type:"text",required:!0,value:s,onChange:x=>i(x.target.value),placeholder:"Enter the description of your query"}),e.jsx(k,{id:"message",label:"Message",type:"text",required:!0,value:o,onChange:x=>d(x.target.value),placeholder:"Enter your message to the team"}),e.jsx(k,{id:"attachments",label:"Attachments",type:"file",multiple:!0,ref:h,onChange:u,placeholder:"Optionally attach relevant files"})]})]})},Wt=({fetchTickets:t})=>{const[a,n]=c.useState(!1),r=()=>{n(s=>!s)};return e.jsxs(e.Fragment,{children:[e.jsxs(N,{type:"button",className:"flex items-center justify-items-center px-3 h-12 gap-1 text-white hover:bg-customOrange-light transition-colors duration-500 bg-customOrange-dark rounded-full shadow-lg",onClick:()=>{z(),r()},children:[e.jsx(Ze,{})," New"]}),e.jsx(M,{isOpen:a,onClose:r,width:"w-[500px]",height:"h-fit","data-testid":"new-ticket-popup",children:e.jsx(Ut,{onClose:r,togglePopup:r,fetchTickets:t})})]})},Vt=({user:t})=>{const[a,n]=c.useState([]),[r,s]=c.useState(!1),[i,o]=c.useState(new Set),d=async()=>{try{const m=await D("/api/user-notifications/");n(m.data.notifications)}catch(m){S(m,"Error fetching notifications")}},g=async(m,x)=>{try{await B("/api/user-notifications/",{id:m})}catch(w){S(w,`Error marking notification ${m} as read`)}},l=async()=>{i.size!==0&&(localStorage.getItem(R),await Promise.all([...i].map(m=>g(m))))},h=()=>{o(new Set(a.map(m=>m.id)))},u=m=>{o(x=>{const w=new Set(x);return w.has(m)?w.delete(m):w.add(m),w})},y=()=>{r?l():d(),s(!r)};return e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"flex items-center justify-items-center px-5 h-12 gap-1 text-white hover:bg-customOrange-light transition-colors duration-500 bg-customOrange-dark rounded-full shadow-lg",onClick:()=>{z(),y()},children:e.jsx(pe,{icon:Re})}),e.jsxs(M,{isOpen:r,onClose:y,width:"w-[80%]",height:"h-[80%]",children:[e.jsx(N,{className:"absolute top-4 left-4 w-20 h-10 bg-customOrange-dark hover:bg-customOrange-light text-white rounded-md",onClick:h,children:"Read All"}),e.jsx("div",{className:"px-10 py-16 overflow-hidden",children:e.jsx(V,{columnDefinition:[e.jsx("th",{className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase",children:"Subject"}),e.jsx("th",{className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase",children:"Message"}),e.jsx("th",{className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase",children:"Created at"}),e.jsx("th",{className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase",children:"Read status"})],data:a,dataName:"notifications",rowDefinition:m=>e.jsxs("tr",{className:`${i.has(m.id)?"bg-green-200":"bg-red-200"}  cursor-pointer`,onClick:()=>u(m.id),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800",children:m.ticket_subject}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:m.message}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:m.created_at?new Date(m.created_at).toLocaleString():"Not Set"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:m.read_Status||"Not Set"})]},m.id)})})]})]})},Kt=()=>{const[t,a]=c.useState(null),[n,r]=c.useState([]),[s,i]=c.useState(null),[o,d]=c.useState([]),[g,l]=c.useState(null),h=async()=>{try{const m=await D("/api/current_user/");a(m.data),console.log("hi: ",m.data)}catch(m){S(m,"Error fetching current user"),a(null)}},u=async()=>{try{const m=localStorage.getItem(R),x=await D("/api/all-officers/");r(x.data.officers),i(x.data.admin)}catch(m){S(m,"Error fetching officers"),r(null),i(null)}},y=async()=>{try{const m=await D("/api/user-tickets/");d(m.data.tickets)}catch(m){S(m,"Error fetching tickets"),d(null)}};return c.useEffect(()=>{h(),y()},[]),c.useEffect(()=>{t&&t.is_staff&&u()},[t]),t?e.jsxs("div",{"data-testid":"dashboard-container",children:[e.jsxs("div",{className:"flex justify-between items-center gap-x-5 mb-5",children:[e.jsx(F,{buttonName:e.jsxs("div",{className:"flex items-center gap-x-1.5",children:[e.jsx(et,{size:30}),e.jsx("span",{children:t.username})]}),className:"flex items-center justify-items-center px-5 h-12 gap-1 text-black hover:bg-slate-200 transition-colors duration-500 bg-white rounded-full shadow-lg text-lg font-semibold",children:e.jsx("a",{href:"/logout",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-slate-200 transitions-colors duration-500",children:"Logout"})}),e.jsxs("div",{className:"flex justify-between items-center gap-x-5",children:[!t.is_staff&&e.jsx(Wt,{fetchTickets:y}),e.jsx(Vt,{user:t})]})]}),e.jsx($t,{user:t,officers:t.is_staff&&!t.is_superuser?n:[],admin:s,tickets:o,setTickets:d,selectedTicket:g,setSelectedTicket:l,fetchTickets:y})]}):e.jsx("p",{children:"Loading user details..."})},Yt=()=>{const[t,a]=c.useState(""),[n,r]=c.useState(""),[s,i]=c.useState(""),[o,d]=c.useState(""),[g,l]=c.useState(""),[h,u]=c.useState(!1),y=X(),m=async x=>{var w,f,j,P,I,G,T,$;u(!0),x.preventDefault();try{(await H.post("/api/user/register/",{username:t,first_name:n,last_name:s,email:o,password:g,is_staff:!1,is_superuser:!1})).status===201&&(A.success("Registration successful. Please login with your details."),y("/"))}catch(_){(f=(w=_.response)==null?void 0:w.data)!=null&&f.username?S(_,(P=(j=_.response)==null?void 0:j.data)==null?void 0:P.username):(G=(I=_.response)==null?void 0:I.data)!=null&&G.email?S(_,($=(T=_.response)==null?void 0:T.data)==null?void 0:$.email):S(_)}finally{u(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-left mb-10",children:"Register"}),e.jsxs(W,{className:"space-y-3",onSubmit:m,buttonLabel:"Register",children:[e.jsx(k,{id:"username",label:"Username",type:"text",required:!0,onChange:x=>a(x.target.value),placeholder:"Enter your username"}),e.jsx(k,{id:"first_name",label:"First Name",type:"text",required:!0,onChange:x=>r(x.target.value),placeholder:"Enter your first name"}),e.jsx(k,{id:"last_name",label:"Last Name",type:"text",required:!0,onChange:x=>i(x.target.value),placeholder:"Enter your last name"}),e.jsx(k,{id:"email",label:"Email",type:"email",required:!0,onChange:x=>d(x.target.value),placeholder:"Enter your email"}),e.jsx(k,{id:"password",label:"Password",type:"password",required:!0,onChange:x=>l(x.target.value),placeholder:"Enter your password"}),h&&e.jsx("h1",{children:"Loading..."})]})]})},Qt=()=>e.jsx("div",{className:"bg-white w-[40vw] rounded-lg drop-shadow-[0_20px_50px_rgba(0,0,0,0.1)] flex-col justify-start items-center p-10","data-testid":"register-component",children:e.jsx(Yt,{})}),Jt=()=>{const[t,a]=c.useState(""),[n,r]=c.useState(""),[s,i]=c.useState(!1),o=X(),d=async g=>{g.preventDefault(),i(!0);try{const l=await H.post("/api/token/",{username:t,password:n});localStorage.setItem(R,l.data.access),localStorage.setItem(je,l.data.refresh),l.status===200&&(o("/dashboard"),a(""),A.success("Successful Login. Welcome to your homepage."))}catch(l){S(l,"Login failed. Please try again.")}finally{r(""),i(!1)}};return c.useEffect(()=>{localStorage.getItem(R)&&o("/dashboard")},[]),e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-left mb-10",children:"Sign in"}),e.jsxs(W,{className:"space-y-3",onSubmit:d,buttonLabel:"Sign in","data-testid":"login-form",children:[e.jsx(k,{id:"username",label:"Username",type:"text",required:!0,value:t,onChange:g=>a(g.target.value),placeholder:"Enter your username"}),e.jsx(k,{id:"password",label:"Password",labelClass:"block text-sm font-medium text-black",type:"password",required:!0,value:n,onChange:g=>r(g.target.value),placeholder:"Enter your password"}),s&&e.jsxs("div",{className:"flex w-full items-center justify-center space-x-2",children:[e.jsx(fe,{size:20,className:"animate-spin"}),e.jsx("span",{children:"Loading..."})]})]})]})},Xt="/SEG-MGP/assets/logo-6TE5HpCe.png",Zt=()=>e.jsxs("div",{className:"bg-white w-[40vw] min-w-[300px] max-w-2xl rounded-lg drop-shadow-[0_20px_50px_rgba(0,0,0,0.1)] flex-col justify-start items-center p-10",children:[e.jsxs("div",{className:"flex justify-between p-0 m-0",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("img",{className:"h-10 w-10",src:Xt,alt:"Logo"}),e.jsx("h3",{className:"text-medium text-customOrange-dark",children:"Apollonian Devs"})]}),e.jsxs("div",{className:"leading-none",children:[e.jsx("p",{className:"text-xs text-customGray-dark",children:"No Account?"}),e.jsx("a",{href:"/register",className:"text-xs text-customOrange-dark hover:text-customOrange-light",children:"Register"})]})]}),e.jsx(Jt,{})]});console.log(be);const es=()=>e.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen gap-4",children:[e.jsxs(b.a,{href:"/",className:"flex items-center gap-1 py-2 px-4 w-fit bg-customOrange-dark text-lg text-white font-semibold rounded-lg shadow-md hover:bg-customOrange-light transition-colors duration-500 ease-in-out",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1.5},whileHover:{scale:1.1},children:[e.jsx(J,{size:20}),"Back"]}),e.jsxs(b.div,{className:"bg-white shadow-lg rounded-lg p-8 w-full max-w-3xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1.5},children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Frequently Asked Questions"}),e.jsx("div",{className:"space-y-3",children:be.map((t,a)=>e.jsx(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.15},children:e.jsx(F,{buttonName:t.question,className:"w-full text-left p-4 rounded-md bg-white border border-gray-200 shadow-sm hover:bg-gray-100 transition",children:e.jsx("div",{className:"p-3 text-gray-700 border-t border-gray-200",children:t.answer})})},a))})]})]}),ts=()=>e.jsxs(b.div,{initial:{opacity:0,scale:.3},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.3},whileHover:{scale:1.1},transition:{duration:.8},className:"flex flex-col items-center justify-center gap-2 h-[30vh] w-[80vh] bg-white shadow-lg rounded-3xl",children:[e.jsx("h1",{className:"text-3xl md:text-9xl font-bold text-red-500",children:"404"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-gray-800",children:"Page Not Found"}),e.jsx("p",{className:"text-lg md:text-xl text-gray-400",children:"The page you're looking for doesn't exist."}),e.jsx(b.div,{whileHover:{scale:1.3},transition:{type:"spring",stiffness:300,damping:20},className:"flex flex-col items-center gap-2 mt-2",children:e.jsx(it,{to:"/",className:"bg-customOrange-dark hover:bg-customOrange-light text-white hover:text-gray-800 font-semibold py-2 px-4 rounded-full transition-colors duration-300",children:"Go Home"})})]});function ss({children:t}){const[a,n]=c.useState(null);c.useEffect(()=>{s().catch(()=>n(!1))},[]);const r=async()=>{const i=localStorage.getItem(je);try{const o=await H.post("/api/token/refresh/",{refresh:i});o.status===200?(localStorage.setItem(R,o.data.access),n(!0)):n(!1)}catch(o){A.error("Error refreshing token",{description:o.message}),n(!1),localStorage.clear()}},s=async()=>{const i=localStorage.getItem(R);if(!i){n(!1);return}const d=dt(i).exp,g=Date.now()/1e3;d<g?await r():n(!0)};return a===null?e.jsxs("div",{className:"flex items-center justify-center p-5 bg-white shadow-lg rounded-lg gap-5",children:[e.jsx(fe,{size:20,className:"animate-spin"}),"Authorising..."]}):a?t:e.jsx(ye,{to:"/login"})}const as=({children:t})=>{const n=ot().pathname==="/",r={background:"linear-gradient(to right, #ecbc76 50%, #fffef9 50%)",minHeight:"100vh",margin:"0",paddingTop:"40px",paddingBottom:"40px",paddingLeft:"40px",paddingRight:"40px",display:"flex",justifyContent:"center",alignItems:"center"};return e.jsxs(e.Fragment,{children:[e.jsx(rt,{richColors:!0,position:"bottom-center"}),e.jsx("div",{style:n?{background:"#ecbc76",margin:"0"}:r,"data-testid":"layout-container",children:t})]})},rs="/SEG-MGP/assets/kcl_logo-CQ1AurRM.jpg",ns={"Faculty of Arts & Humanities":"https://www.kcl.ac.uk/artshums","Faculty of Social Science & Public Policy":"https://www.kcl.ac.uk/sspp","Faculty of Natural, Mathematical & Engineering Sciences":"https://www.kcl.ac.uk/nmes","Faculty of Life Sciences & Medicine":"https://www.kcl.ac.uk/lsm","King's Business School":"https://www.kcl.ac.uk/business","The Dickson Poon School of Law":"https://www.kcl.ac.uk/law/index","Faculty of Dentistry, Oral & Craniofacial Sciences":"https://www.kcl.ac.uk/dentistry","Florence Nightingale Faculty of Nursing, Midwifery & Palliative Care":"https://www.kcl.ac.uk/nmpc","Institute of Psychiatry, Psychology & Neuroscience":"https://www.kcl.ac.uk/ioppn",IT:"https://www.kcl.ac.uk/it/help-and-support",HR:"https://www.kcl.ac.uk/professional-services/hr",Finance:"https://www.kcl.ac.uk/study/undergraduate/fees-and-funding/contact-us",Wellbeing:"https://www.kcl.ac.uk/student-life/wellbeing",Maintenance:"https://self-service.kcl.ac.uk/article/KA-01949/en-us",Housing:"https://www.kclsu.org/help/advice/othersupport/housing/",Admissions:"https://www.kcl.ac.uk/study/undergraduate/how-to-apply/contact","Library Services":"https://www.kcl.ac.uk/library","Student Affairs":"https://www.kcl.ac.uk/study-at-kings/student-services"},is=()=>{const[t,a]=c.useState([]);return c.useEffect(()=>{(async()=>{try{const s=(await H.get("/api/departments/")).data.map(i=>({...i,url:ns[i.name]||"#"}));a(s)}catch(r){S(r,"Error fetching departments")}})()},[]),e.jsxs("div",{className:"min-w-[80%] flex flex-col gap-4 justify-center items-center",children:[e.jsxs(b.a,{href:"/",className:"flex items-center gap-1 py-2 px-4 w-fit bg-customOrange-dark text-lg text-white font-semibold rounded-lg shadow-md hover:bg-customOrange-light transition-colors duration-500 ease-in-out",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.1},children:[e.jsx(J,{size:20}),"Back"]}),e.jsx(b.section,{className:"p-10 bg-white text-black rounded-3xl shadow-lg w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1.5},children:e.jsxs(b.div,{className:"flex flex-col gap-10",children:[e.jsxs("h2",{className:"flex items-center text-3xl md:text-4xl font-bold justify-center gap-2",children:[e.jsx(ge,{size:40,className:"max-sm:hidden"}),"Explore King's College Departments"]}),e.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((n,r)=>e.jsx(b.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:r*.1},children:e.jsx(cs,{name:n.name,description:n.description,imageSrc:rs,url:n.url})},n.id))})]})})]})},os={front:{rotateX:0},back:{rotateX:180}},cs=({name:t,description:a,url:n,imageSrc:r})=>{const[s,i]=c.useState(!1);return e.jsx(b.div,{onClick:()=>i(!s),className:"h-56 perspective cursor-pointer",whileHover:{scale:.95},transition:{type:"spring",stiffness:300},children:e.jsxs(b.div,{className:"relative w-full h-full rounded-xl shadow-lg",variants:os,animate:s?"back":"front",initial:"front",transition:{duration:.6},style:{transformStyle:"preserve-3d"},children:[e.jsxs(b.div,{className:"absolute w-full h-full backface-hidden bg-customOrange-dark/60 text-gray-700 rounded-xl p-4 flex flex-col items-center justify-center",style:{backfaceVisibility:"hidden"},children:[e.jsx("img",{src:r,alt:t,className:"h-20 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-center leading-5 text-pretty",children:t})]}),e.jsxs(b.div,{className:"absolute w-full h-full bg-neutral-300 text-gray-800 rounded-xl p-4 flex flex-col justify-center items-center gap-6",style:{rotateX:"180deg",backfaceVisibility:"hidden"},children:[e.jsx("p",{className:"text-sm text-center text-pretty",children:a}),e.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-customOrange-dark text-white rounded-md hover:bg-customOrange-light",children:"Visit Site"})]})]})})},ls=()=>e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs(b.a,{href:"/",className:"flex items-center gap-1 py-2 px-4 w-fit bg-customOrange-dark text-lg text-white font-semibold rounded-lg shadow-md hover:bg-customOrange-light transition-colors duration-500 ease-in-out",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.1},children:[e.jsx(J,{size:20}),"Back"]}),e.jsxs(b.div,{className:"max-w-4xl mx-auto p-8 space-y-8 bg-gradient-to-br from-white to-slate-100 shadow-xl rounded-2xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("h1",{className:"text-4xl font-bold text-center text-customOrange-dark",children:"About This Project"}),e.jsxs("p",{className:"text-center text-gray-600 text-lg",children:["Project Duration: ",e.jsx("strong",{children:"13 January 2025"})," – ",e.jsx("strong",{children:"27 March 2025"}),e.jsx("br",{}),"Contribution to Module Mark: ",e.jsx("strong",{children:"80.75%"})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2 text-customOrange-dark",children:[e.jsx(tt,{size:20})," Project Brief"]}),e.jsx("p",{className:"text-gray-700 text-balance",children:"Universities are complex institutions where students often struggle to identify where to direct their queries—ranging from academics and welfare to finances and procedures. Programme officers and tutors frequently handle these questions, many of which could be better directed, require more context, or are repetitive."}),e.jsx("p",{className:"text-gray-700 text-balance",children:"This project aims to build a modern ticketing system that simplifies query management for programme officers. It reduces reliance on email and introduces ticket tracking to manage response workflows and overdue queries."})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2 text-customOrange-dark",children:[e.jsx(st,{size:20})," Team Members"]}),e.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Et.map((t,a)=>e.jsx(b.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.15},children:e.jsx(ds,{name:t.name,imageSrc:t.imageSrc,link:t.link})},a))})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2 text-customOrange-dark",children:[e.jsx(at,{size:20})," Use of Generative AI"]}),e.jsx("p",{className:"text-gray-700 text-balance",children:"We use AI to suggest the appropriate department or staff member to handle a ticket based on the query content. This intelligent routing can streamline operations and ensure that queries reach the right person more efficiently."})]})]})]}),ds=({name:t,imageSrc:a,link:n})=>e.jsx(b.div,{className:"bg-customOrange-dark/60  rounded-lg shadow-md cursor-pointer",whileHover:{scale:.95},transition:{type:"spring",stiffness:300},children:e.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-2",children:[e.jsx("img",{src:a,alt:t,className:"h-16 w-16 rounded-full shadow-md"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:t})]})});function us(){return localStorage.clear(),e.jsx(ye,{to:"/"})}function ms(){return localStorage.clear(),e.jsx(Qt,{})}function xs(){return e.jsx(e.Fragment,{children:e.jsx(as,{children:e.jsxs(ct,{children:[e.jsx(E,{path:"/",element:e.jsx(wt,{})}),e.jsx(E,{path:"/dashboard",element:e.jsx(ss,{children:e.jsx(Kt,{})})}),e.jsx(E,{path:"/login",element:e.jsx(Zt,{})}),e.jsx(E,{path:"/register",element:e.jsx(ms,{})}),e.jsx(E,{path:"/logout",element:e.jsx(us,{})}),e.jsx(E,{path:"/helpfaq",element:e.jsx(es,{})}),e.jsx(E,{path:"/departments",element:e.jsx(is,{})}),e.jsx(E,{path:"/aboutus",element:e.jsx(ls,{})}),e.jsx(E,{path:"*",element:e.jsx(ts,{})})]})})})}Ae.createRoot(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx(lt,{children:e.jsx(xs,{})})}));
