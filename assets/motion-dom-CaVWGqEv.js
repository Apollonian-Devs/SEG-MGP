import{a as N,p as W,n as $,M as z,S as H,v as X}from"./motion-utils-BDWe_Wef.js";const _=N(()=>window.ScrollTimeline!==void 0);class Y{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(r=>{if(_()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{s.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ve extends Y{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function ye(t,e){return t?t[e]||t.default||t:void 0}const C=2e4;function ge(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<C;)e+=n,s=t.next(e);return e>=C?1/0:e}function Ae(t){return typeof t=="function"}function Ee(t,e){t.timeline=e,t.onfinish=null}const I=t=>Array.isArray(t)&&typeof t[0]=="number",j={linearEasing:void 0};function J(t,e){const n=N(t);return()=>{var s;return(s=j[e])!==null&&s!==void 0?s:n()}}const w=J(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Q=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let o=0;o<r;o++)s+=t(W(0,r-1,o))+", ";return`linear(${s.substring(0,s.length-2)})`};function Z(t){return!!(typeof t=="function"&&w()||!t||typeof t=="string"&&(t in L||w())||I(t)||Array.isArray(t)&&t.every(Z))}const g=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,L={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:g([0,.65,.55,1]),circOut:g([.55,0,1,.45]),backIn:g([.31,.01,.66,-.59]),backOut:g([.33,1.53,.69,.99])};function ee(t,e){if(t)return typeof t=="function"&&w()?Q(t,e):I(t)?g(t):Array.isArray(t)?t.map(n=>ee(n,e)||L.easeOut):L[t]}const E=["read","resolveKeyframes","update","preRender","render","postRender"];function te(t,e){let n=new Set,s=new Set,r=!1,o=!1;const f=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function i(u){f.has(u)&&(l.schedule(u),t()),u(a)}const l={schedule:(u,p=!1,v=!1)=>{const y=v&&r?n:s;return p&&f.add(u),y.has(u)||y.add(u),u},cancel:u=>{s.delete(u),f.delete(u)},process:u=>{if(a=u,r){o=!0;return}r=!0,[n,s]=[s,n],n.forEach(i),n.clear(),r=!1,o&&(o=!1,l.process(u))}};return l}const ne=40;function R(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,f=E.reduce((h,m)=>(h[m]=te(o),h),{}),{read:a,resolveKeyframes:i,update:l,preRender:u,render:p,postRender:v}=f,c=()=>{const h=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(h-r.timestamp,ne),1),r.timestamp=h,r.isProcessing=!0,a.process(r),i.process(r),l.process(r),u.process(r),p.process(r),v.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(c))},y=()=>{n=!0,s=!0,r.isProcessing||t(c)};return{schedule:E.reduce((h,m)=>{const G=f[m];return h[m]=(K,O=!1,U=!1)=>(n||y(),G.schedule(K,O,U)),h},{}),cancel:h=>{for(let m=0;m<E.length;m++)f[E[m]].cancel(h)},state:r,steps:f}}const{schedule:se,cancel:Pe,state:F,steps:Te}=R(typeof requestAnimationFrame<"u"?requestAnimationFrame:$,!0),{schedule:be}=R(queueMicrotask,!1);let P;function re(){P=void 0}const T={now:()=>(P===void 0&&T.set(F.isProcessing||z.useManualTiming?F.timestamp:performance.now()),P),set:t=>{P=t,queueMicrotask(re)}},d={x:!1,y:!1};function q(){return d.x||d.y}function we(t){return t==="x"||t==="y"?d[t]?null:(d[t]=!0,()=>{d[t]=!1}):d.x||d.y?null:(d.x=d.y=!0,()=>{d.x=d.y=!1})}function ie(t,e,n){var s;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(s=void 0)!==null&&s!==void 0?s:r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function B(t,e){const n=ie(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function V(t){return!(t.pointerType==="touch"||q())}function Le(t,e,n={}){const[s,r,o]=B(t,n),f=a=>{if(!V(a))return;const{target:i}=a,l=e(i,a);if(typeof l!="function"||!i)return;const u=p=>{V(p)&&(l(p),i.removeEventListener("pointerleave",u))};i.addEventListener("pointerleave",u,r)};return s.forEach(a=>{a.addEventListener("pointerenter",f,r)}),o}function x(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const D=(t,e)=>e?t===e?!0:D(t,e.parentElement):!1,ae=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ue(t){return oe.has(t.tagName)||t.tabIndex!==-1}const A=new WeakSet;function S(t){return e=>{e.key==="Enter"&&t(e)}}function b(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ce=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=S(()=>{if(A.has(n))return;b(n,"down");const r=S(()=>{b(n,"up")}),o=()=>b(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function M(t){return ae(t)&&!q()}function Ce(t,e,n={}){const[s,r,o]=B(t,n),f=a=>{const i=a.currentTarget;if(!i||!M(a)||A.has(i))return;A.add(i),x(a,"set");const l=e(i,a),u=(c,y)=>{i.removeEventListener("pointerup",p),i.removeEventListener("pointercancel",v),x(c,"release"),!(!M(c)||!A.has(i))&&(A.delete(i),typeof l=="function"&&l(c,{success:y}))},p=c=>{(c.isTrusted?le(c,i instanceof Element?i.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?u(c,!1):u(c,!(i instanceof Element)||D(i,c.target))},v=c=>{u(c,!1)};i.addEventListener("pointerup",p,r),i.addEventListener("pointercancel",v,r),i.addEventListener("lostpointercapture",v,r)};return s.forEach(a=>{a=n.useGlobalTarget?window:a;let i=!1;a instanceof HTMLElement&&(i=!0,!ue(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",f,r),i&&a.addEventListener("focus",l=>ce(l,r),r)}),o}function le(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const k=30,fe=t=>!isNaN(parseFloat(t));class de{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const o=T.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=T.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new H);const s=this.events[e].add(n);return e==="change"?()=>{s(),se.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=T.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>k)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,k);return X(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fe(t,e){return new de(t,e)}export{ve as G,Fe as a,C as b,ge as c,I as d,F as e,se as f,Q as g,Pe as h,Ae as i,ee as j,Ee as k,Z as l,be as m,ye as n,ae as o,we as p,Te as q,Le as r,w as s,T as t,Ce as u,ie as v};
